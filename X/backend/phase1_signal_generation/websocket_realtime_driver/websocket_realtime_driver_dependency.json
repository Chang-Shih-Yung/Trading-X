{
  "WEBSOCKET_REALTIME_DRIVER_DEPENDENCY": {
    "æµç¨‹æ¦‚è¿°": "WebSocketå¯¦æ™‚æ•¸æ“šé©…å‹•å¼•æ“ - Phase1ä¿¡è™Ÿç”Ÿæˆçš„æ•¸æ“šåŸºç¤å±¤",
    "ç‰ˆæœ¬": "1.0.0", 
    "æ ¸å¿ƒç†å¿µ": "å¤šäº¤æ˜“æ‰€å¯¦æ™‚æ•¸æ“š + é€£æ¥ç®¡ç† + æ•¸æ“šå“è³ªä¿è­‰ + çµ±ä¸€åˆ†ç™¼",

    "ğŸŒ æ¶æ§‹è¨­è¨ˆ": {
      "é€£æ¥æ¶æ§‹": {
        "å¤šäº¤æ˜“æ‰€æ”¯æ´": ["binance_spot", "binance_futures", "okx_spot", "bybit_spot"],
        "é€£æ¥æ¨¡å¼": "async_websocket_with_connection_pooling",
        "è² è¼‰å‡è¡¡": "round_robin_with_latency_awareness",
        "å®¹éŒ¯æ©Ÿåˆ¶": "auto_reconnect_with_exponential_backoff"
      },
      "æ•¸æ“šç®¡é“": {
        "æ¥æ”¶ç·©è¡": "ring_buffer_with_overflow_protection",
        "è™•ç†éšŠåˆ—": "priority_queue_by_data_type",
        "åˆ†ç™¼æ©Ÿåˆ¶": "pub_sub_pattern_with_selective_routing",
        "èƒŒå£“è™•ç†": "adaptive_throttling_on_downstream_congestion"
      }
    },

    "âš¡ å¯¦æ™‚æ•¸æ“šæµç¨‹": {
      "Layer_0_é€£æ¥ç®¡ç†": {
        "å±¤ç´š": "layer_0_connection_management",
        "æè¿°": "å¤šäº¤æ˜“æ‰€WebSocketé€£æ¥æ± ç®¡ç†",
        "ä¾è³´": "ç„¡ (åŸºç¤æœå‹™å±¤)",
        "æ™‚é–“": "2ms",
        "æ“ä½œ": {
          "ğŸ”Œ é€£æ¥æ± åˆå§‹åŒ–": {
            "é€£æ¥æ•¸é‡": "4å€‹ä¸»è¦äº¤æ˜“æ‰€ x 2å€‹å‚™ç”¨é€£æ¥",
            "é€£æ¥é…ç½®": {
              "binance": {
                "spot_endpoint": "wss://stream.binance.com:9443/ws/btcusdt@kline_1m@kline_5m@depth20@ticker",
                "futures_endpoint": "wss://fstream.binance.com/ws/btcusdt@kline_1m@markPrice@depth20",
                "auth_required": "false",
                "rate_limit": "5 requests/second",
                "ping_interval": "30s"
              },
              "okx": {
                "endpoint": "wss://ws.okx.com:8443/ws/v5/public",
                "subscribe_topics": ["candle1m", "candle5m", "books5", "tickers"],
                "compression": "gzip_enabled"
              },
              "bybit": {
                "endpoint": "wss://stream.bybit.com/v5/public/spot",
                "topics": ["kline.1.BTCUSDT", "orderbook.1.BTCUSDT", "tickers.BTCUSDT"]
              }
            },
            "å¥åº·æª¢æŸ¥": "æ¯5ç§’pingæª¢æ¸¬ï¼Œ10ç§’è¶…æ™‚æ–·ç·šé‡é€£",
            "è¼¸å‡º": "ğŸ”Œ active_connection_pool"
          },
          "ğŸ”„ è‡ªå‹•é‡é€£æ©Ÿåˆ¶": {
            "è¼¸å…¥": "connection_health_status",
            "é‡é€£ç­–ç•¥": {
              "ç¬¬1æ¬¡": "ç«‹å³é‡é€£ (0s delay)",
              "ç¬¬2æ¬¡": "1ç§’å»¶é²é‡é€£",
              "ç¬¬3æ¬¡": "2ç§’å»¶é²é‡é€£", 
              "ç¬¬4æ¬¡": "4ç§’å»¶é²é‡é€£",
              "ç¬¬5æ¬¡+": "8ç§’å»¶é²é‡é€£ (æœ€å¤§)"
            },
            "å¤±æ•—è™•ç†": {
              "é€£çºŒå¤±æ•—é–¾å€¼": "5æ¬¡",
              "é™ç´šç­–ç•¥": "åˆ‡æ›åˆ°å‚™ç”¨äº¤æ˜“æ‰€",
              "å‘Šè­¦æ©Ÿåˆ¶": "æ¨é€é€£æ¥ç•°å¸¸å‘Šè­¦"
            },
            "è¼¸å‡º": "ğŸ”„ reconnection_status"
          }
        }
      },

      "Layer_1_æ•¸æ“šæ¥æ”¶": {
        "å±¤ç´š": "layer_1_data_ingestion",
        "æè¿°": "å¯¦æ™‚æ•¸æ“šæ¥æ”¶èˆ‡åˆæ­¥è™•ç†",
        "ä¾è³´": "âœ… layer_0_connection_management",
        "æ™‚é–“": "3ms",
        "æ“ä½œ": {
          "ğŸ“Š å¤šé¡å‹æ•¸æ“šæ¥æ”¶": {
            "è¼¸å…¥": "active_connection_pool",
            "æ•¸æ“šé¡å‹": {
              "Kç·šæ•¸æ“š": {
                "æ™‚é–“æ¡†æ¶": ["1m", "5m", "15m"],
                "å­—æ®µ": ["open", "high", "low", "close", "volume", "quote_volume", "timestamp"],
                "é »ç‡": "æ¯åˆ†é˜/5åˆ†é˜æ›´æ–°",
                "ç·©è¡å¤§å°": "60å€‹æ•¸æ“šé» rolling window"
              },
              "è¨‚å–®ç°¿æ•¸æ“š": {
                "æ·±åº¦": "å‰20æª”è²·è³£åƒ¹",
                "æ›´æ–°æ¨¡å¼": "å¢é‡æ›´æ–° + å…¨é‡å¿«ç…§",
                "é »ç‡": "100-500msç´šåˆ¥æ›´æ–°",
                "æ•¸æ“šçµæ§‹": "{bids: [[price, qty]], asks: [[price, qty]]}"
              },
              "å³æ™‚æˆäº¤": {
                "å­—æ®µ": ["price", "quantity", "timestamp", "is_buyer_maker"],
                "éæ¿¾": "åƒ…å¤§é¡æˆäº¤ (>0.1 BTC equivalent)",
                "èšåˆ": "1ç§’å…§æˆäº¤èšåˆçµ±è¨ˆ"
              },
              "æ¨™è¨˜åƒ¹æ ¼": {
                "ä¾†æº": "futures marking price",
                "é »ç‡": "1ç§’æ›´æ–°",
                "ç”¨é€”": "ç¾è²¨æœŸè²¨å¥—åˆ©æª¢æ¸¬"
              }
            },
            "è¼¸å‡º": "ğŸ“Š raw_multitype_data_stream"
          },
          "ğŸ” æ•¸æ“šé©—è­‰": {
            "è¼¸å…¥": "raw_multitype_data_stream",
            "é©—è­‰è¦å‰‡": {
              "æ™‚é–“æˆ³é©—è­‰": {
                "æ™‚å€çµ±ä¸€": "æ‰€æœ‰æ™‚é–“æˆ³è½‰æ›ç‚ºUTC",
                "æ™‚é–“åˆç†æ€§": "timestampå¿…é ˆåœ¨ç•¶å‰æ™‚é–“Â±5åˆ†é˜å…§",
                "é †åºæª¢æŸ¥": "timestampå¿…é ˆéå¢"
              },
              "åƒ¹æ ¼é©—è­‰": {
                "åˆç†æ€§æª¢æŸ¥": "åƒ¹æ ¼è®Šå‹• < 10% in 1min (æ­£å¸¸å¸‚å ´)",
                "è·¨äº¤æ˜“æ‰€é©—è­‰": "åŒå¹£å°åƒ¹æ ¼åå·® < 1%",
                "éé›¶æª¢æŸ¥": "åƒ¹æ ¼å’Œæ•¸é‡å¿…é ˆ > 0"
              },
              "æ•¸æ“šå®Œæ•´æ€§": {
                "å¿…è¦å­—æ®µ": "æª¢æŸ¥æ‰€æœ‰å¿…è¦å­—æ®µå­˜åœ¨",
                "æ ¼å¼é©—è­‰": "æ•¸å€¼é¡å‹å’Œç¯„åœæª¢æŸ¥",
                "JSONæ ¼å¼": "ç¢ºä¿JSONçµæ§‹æ­£ç¢º"
              }
            },
            "ç•°å¸¸è™•ç†": {
              "æ•¸æ“šä¸Ÿæ£„": "é©—è­‰å¤±æ•—çš„æ•¸æ“šç›´æ¥ä¸Ÿæ£„",
              "å‘Šè­¦è¨˜éŒ„": "è¨˜éŒ„ç•°å¸¸æ•¸æ“šçµ±è¨ˆ",
              "é™ç´šç­–ç•¥": "ä½¿ç”¨æœ€å¾Œæœ‰æ•ˆæ•¸æ“š"
            },
            "è¼¸å‡º": "ğŸ” validated_data_stream"
          }
        }
      },

      "Layer_2_æ•¸æ“šè™•ç†": {
        "å±¤ç´š": "layer_2_data_processing", 
        "æè¿°": "æ•¸æ“šæ¸…ç†ã€æ¨™æº–åŒ–å’ŒåŸºç¤è¨ˆç®—",
        "ä¾è³´": "âœ… layer_1_data_ingestion",
        "æ™‚é–“": "4ms",
        "æ“ä½œ": {
          "ğŸ§¹ æ•¸æ“šæ¸…ç†": {
            "è¼¸å…¥": "validated_data_stream",
            "æ¸…ç†æ“ä½œ": {
              "ç•°å¸¸å€¼æª¢æ¸¬": {
                "Z-scoreæª¢æ¸¬": "é–¾å€¼Â±3æ¨™æº–å·®",
                "IQRæª¢æ¸¬": "å››åˆ†ä½é–“è·é›¢ç¾¤å€¼æª¢æ¸¬",
                "è™•ç†æ–¹å¼": "æ¨™è¨˜ç•°å¸¸ä½†ä¸ä¸Ÿæ£„"
              },
              "ç¼ºå¤±å€¼è™•ç†": {
                "Kç·šç¼ºå¤±": "ä½¿ç”¨å‰ä¸€æ ¹Kç·šçš„æ”¶ç›¤åƒ¹å¡«å……",
                "è¨‚å–®ç°¿ç¼ºå¤±": "ä½¿ç”¨æœ€å¾Œå¿«ç…§æ•¸æ“š",
                "æˆäº¤æ•¸æ“šç¼ºå¤±": "æ¨™è¨˜ç‚ºç„¡æˆäº¤"
              },
              "é‡è¤‡æ•¸æ“š": {
                "å»é‡é‚è¼¯": "ç›¸åŒtimestamp + symbolçš„æ•¸æ“šå»é‡",
                "ä¿ç•™ç­–ç•¥": "ä¿ç•™æœ€æ–°æ¥æ”¶çš„æ•¸æ“š"
              }
            },
            "è¼¸å‡º": "ğŸ§¹ cleaned_data_stream"
          },
          "ğŸ“ æ¨™æº–åŒ–è™•ç†": {
            "è¼¸å…¥": "cleaned_data_stream",
            "æ¨™æº–åŒ–æ–¹æ³•": {
              "åƒ¹æ ¼æ¨™æº–åŒ–": {
                "ç›¸å°è®ŠåŒ–": "price_change_pct = (current - previous) / previous",
                "æ­¸ä¸€åŒ–": "min_max_scaling to [0, 1] based on 24h range",
                "å°æ•¸è®Šæ›": "log_return for large price movements"
              },
              "æˆäº¤é‡æ¨™æº–åŒ–": {
                "ç›¸å°æˆäº¤é‡": "volume_ratio = current_volume / 24h_avg_volume",
                "æˆäº¤é‡ç™¾åˆ†ä½": "volume_percentile based on historical data",
                "æˆäº¤é¡æ¨™æº–åŒ–": "turnover normalized by market cap"
              },
              "æ™‚é–“æ¨™æº–åŒ–": {
                "çµ±ä¸€æ™‚é–“æˆ³": "all timestamps in UTC milliseconds",
                "æ™‚é–“å°é½Š": "align to standard intervals (1m, 5m)",
                "æ™‚å€æ¨™è¨˜": "preserve original timezone information"
              }
            },
            "è¼¸å‡º": "ğŸ“ standardized_data_stream"
          },
          "ğŸ”¢ åŸºç¤è¨ˆç®—": {
            "è¼¸å…¥": "standardized_data_stream",
            "è¨ˆç®—æŒ‡æ¨™": {
              "åƒ¹æ ¼æŒ‡æ¨™": {
                "åƒ¹æ ¼å‹•é‡": "price_momentum = (close - close_5_periods_ago) / close_5_periods_ago",
                "æ³¢å‹•ç‡": "rolling_volatility = std(returns, window=20)",
                "åƒ¹æ ¼å€é–“": "price_range_pct = (high - low) / close"
              },
              "æˆäº¤é‡æŒ‡æ¨™": {
                "æˆäº¤é‡è¶¨å‹¢": "volume_trend = EMA(volume, 5) vs EMA(volume, 20)",
                "æˆäº¤é‡ç•°å¸¸": "volume_anomaly = current_volume > 3 * rolling_mean(volume, 20)",
                "è³‡é‡‘æµ": "money_flow = price_change * volume"
              },
              "æµå‹•æ€§æŒ‡æ¨™": {
                "è²·è³£åƒ¹å·®": "spread_pct = (ask - bid) / mid_price * 100",
                "è¨‚å–®ç°¿æ·±åº¦": "book_depth = sum(bid_volume + ask_volume)",
                "æµå‹•æ€§æ¯”ç‡": "liquidity_ratio = total_volume / book_depth"
              }
            },
            "è¼¸å‡º": "ğŸ”¢ calculated_metrics_stream"
          }
        }
      },

      "Layer_3_ä¿¡è™Ÿåˆ†ç™¼": {
        "å±¤ç´š": "layer_3_signal_distribution",
        "æè¿°": "è™•ç†å¾Œæ•¸æ“šçš„æ™ºèƒ½åˆ†ç™¼èˆ‡è·¯ç”±",
        "ä¾è³´": "âœ… layer_2_data_processing",
        "æ™‚é–“": "3ms",
        "æ“ä½œ": {
          "ğŸ¯ æ™ºèƒ½è·¯ç”±": {
            "è¼¸å…¥": "calculated_metrics_stream",
            "è·¯ç”±è¦å‰‡": {
              "phase1a_basic_signal_generation": {
                "æ•¸æ“šé¡å‹": "all_processed_data",
                "å„ªå…ˆç´š": "HIGH",
                "å»¶é²è¦æ±‚": "< 5ms",
                "æ ¼å¼": "standardized_realtime_format"
              },
              "indicator_dependency_graph": {
                "æ•¸æ“šé¡å‹": "price_volume_data + basic_indicators",
                "æ‰¹æ¬¡å¤§å°": "5 data points",
                "å»¶é²è¦æ±‚": "< 10ms"
              },
              "phase1b_volatility_adaptation": {
                "æ•¸æ“šé¡å‹": "volatility_metrics + price_momentum",
                "è§¸ç™¼æ¢ä»¶": "volatility_spike > 95th_percentile",
                "ç·Šæ€¥æ¨¡å¼": "immediate_routing"
              },
              "unified_signal_candidate_pool": {
                "æ•¸æ“šé¡å‹": "extreme_events + anomaly_detections",
                "è§¸ç™¼æ¢ä»¶": "critical_market_events",
                "å»¶é²è¦æ±‚": "< 3ms"
              }
            },
            "è¼¸å‡º": "ğŸ¯ routed_data_streams"
          },
          "ğŸ“¡ ç™¼å¸ƒè¨‚é–±": {
            "è¼¸å…¥": "routed_data_streams",
            "ç™¼å¸ƒæ©Ÿåˆ¶": {
              "ä¸»é¡Œåˆ†é¡": {
                "realtime_price": "å¯¦æ™‚åƒ¹æ ¼æ›´æ–°",
                "volume_alerts": "æˆäº¤é‡ç•°å¸¸å‘Šè­¦",
                "volatility_spikes": "æ³¢å‹•ç‡çªå¢äº‹ä»¶",
                "liquidity_changes": "æµå‹•æ€§è®ŠåŒ–äº‹ä»¶"
              },
              "è¨‚é–±ç®¡ç†": {
                "å‹•æ…‹è¨‚é–±": "æ¨¡çµ„å¯å‹•æ…‹è¨‚é–±/å–æ¶ˆè¨‚é–±ä¸»é¡Œ",
                "å„ªå…ˆç´šéšŠåˆ—": "CRITICAL > HIGH > MEDIUM > LOW",
                "èƒŒå£“æ§åˆ¶": "auto_throttling when subscribers lag"
              }
            },
            "è¼¸å‡º": "ğŸ“¡ published_data_streams"
          },
          "ğŸ“Š ç›£æ§çµ±è¨ˆ": {
            "è¼¸å…¥": "published_data_streams",
            "ç›£æ§æŒ‡æ¨™": {
              "æ•¸æ“šæµé‡": "messages_per_second by topic",
              "å»¶é²åˆ†ä½ˆ": "p50, p95, p99 latency metrics",
              "é€£æ¥ç‹€æ…‹": "active_connections by exchange",
              "éŒ¯èª¤ç‡": "error_rate by data_type",
              "æ•¸æ“šå“è³ª": "data_quality_score by source"
            },
            "å‘Šè­¦è¦å‰‡": {
              "é«˜å»¶é²": "p95_latency > 50ms",
              "é€£æ¥ç•°å¸¸": "connection_failure_rate > 5%",
              "æ•¸æ“šå“è³ª": "data_quality_score < 0.9",
              "æµé‡ç•°å¸¸": "message_rate deviation > 50%"
            },
            "è¼¸å‡º": "ğŸ“Š monitoring_metrics"
          }
        }
      }
    },

    "ğŸ¯ æ€§èƒ½è¦æ±‚èˆ‡å„ªåŒ–": {
      "å»¶é²ç›®æ¨™": {
        "æ•¸æ“šæ¥æ”¶": "< 100ms from exchange",
        "å…§éƒ¨è™•ç†": "< 12ms (2+3+4+3)",
        "ç¸½å»¶é²": "< 112ms end-to-end"
      },
      "ååé‡ç›®æ¨™": {
        "æ¶ˆæ¯è™•ç†": "> 10,000 messages/second",
        "ä¸¦ç™¼é€£æ¥": "> 20 websocket connections",
        "æ•¸æ“šé»": "> 1,000 data points/second"
      },
      "å¯é æ€§ç›®æ¨™": {
        "é€£æ¥ç©©å®šæ€§": "> 99.9% uptime",
        "æ•¸æ“šå®Œæ•´æ€§": "> 99.8% valid data",
        "å»¶é²ä¸€è‡´æ€§": "p99 < 150ms"
      }
    },

    "ğŸ”§ æŠ€è¡“æ¶æ§‹": {
      "æŠ€è¡“æ£§": {
        "WebSocketå®¢æˆ¶ç«¯": "websockets library (Python asyncio)",
        "æ•¸æ“šè™•ç†": "pandas + numpy for numerical computation",
        "æ¶ˆæ¯éšŠåˆ—": "asyncio.Queue with priority support",
        "ç›£æ§": "prometheus metrics + custom dashboards"
      },
      "éƒ¨ç½²æ¶æ§‹": {
        "å®¹å™¨åŒ–": "Dockerå®¹å™¨éƒ¨ç½²",
        "æ“´å±•æ€§": "æ°´å¹³æ“´å±•æ”¯æ´å¤šå¯¦ä¾‹",
        "è² è¼‰å‡è¡¡": "é€šéexchangeåˆ†é…è² è¼‰",
        "ç›£æ§": "å¥åº·æª¢æŸ¥ + metricsæ”¶é›†"
      }
    },

    "ğŸ”— æ•´åˆæ¥å£": {
      "æä¾›æœå‹™": [
        "realtime_data_feed_service",
        "market_event_notification_service", 
        "data_quality_monitoring_service",
        "connection_health_status_service"
      ],
      "ä¾è³´æœå‹™": [
        "exchange_api_credentials_service",
        "system_configuration_service",
        "logging_monitoring_service"
      ],
      "æ•¸æ“šè¼¸å‡º": [
        "phase1a_basic_signal_generation",
        "indicator_dependency_graph",
        "phase1b_volatility_adaptation", 
        "unified_signal_candidate_pool"
      ]
    }
  }
}
